{
  "name": "local",
  "profiles": [
    {
      "name": "main",
      "commands": [
        {
          "name": "release",
          "execute": [
            "set:version=!tail -n 1 version.go | awk -F '\"' '{print $2}'",
            "confirm:Are you sure you want to release a new version?",
            "semver -i ${level} ${version}",
            "cat version.go | sed 's/${version}/${response}/g' > version.txt",
            "mv version.txt version.go",
            "aux4 build"
          ],
          "help": {
            "text": "release a new version",
            "variables": [
              {
                "name": "level",
                "text": "the level of the release",
                "options": [
                  "major",
                  "minor",
                  "patch"
                ]
              }
            ]
          }
        },
        {
          "name": "build",
          "execute": [
            "GOOS=darwin GOARCH=arm64 go build -o bin/aux4-darwin-arm64 .",
            "GOOS=darwin GOARCH=amd64 go build -o bin/aux4-darwin-amd64 .",
            "GOOS=linux GOARCH=amd64 go build -o bin/aux4-linux-amd64 .",
            "GOOS=linux GOARCH=386 go build -o bin/aux4-linux-386 .",
            "GOOS=windows GOARCH=amd64 go build -o bin/aux4-windows-amd64.exe .",
            "GOOS=windows GOARCH=386 go build -o bin/aux4-windows-386.exe ."
          ],
          "help": {
            "text": "build the app for all platforms"
          }
        },
        {
          "name": "hello",
          "execute": [
            "json:cat test.json",
            "set:name=$response.name};age=$response.age",
            "echo $name $age yo"
          ]
        },
        {
          "name": "test",
          "execute": [
            "profile:test"
          ]
        }
      ]
    },
    {
      "name": "test",
      "commands": [
        {
          "name": "show",
          "execute": [
            "log:this is the show command",
            "echo show ${name}"
          ],
          "help": {
            "text": "test to show",
            "variables": [
              {
                "name": "name",
                "text": "the name"
              }
            ]
          }
        },
        {
          "name": "the-second-command",
          "execute": [
            "set:response=!cat test.txt",
            "each:echo the letter ${item}"
          ],
          "help": {
            "text": "the second command description is quite long so we should not know whether will fit in a single line or not. But this is a good opportunity for testing tho",
            "variables": [
              {
                "name": "why-whould-the-variable-so-big",
                "text": "this variable name should be very big so it's easier to identify how good will it look like in the terminal. it's never a good idea to have a text so long"
              },
              {
                "name": "small",
                "text": "it is interesting to have a small variable too"
              },
              {
                "name": "with-default",
                "text": "param with default value",
                "default": "cool"
              },
              {
                "name": "with-env",
                "text": "param with env value",
                "env": "NICE"
              }
            ]
          }
        }
      ]
    }
  ]
}
